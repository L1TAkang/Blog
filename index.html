<!DOCTYPE html>

<html lang="ko">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>동적 룩북 모듈</title>

    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css" />

    <style>

        body {

            font-family: 'Pretendard', sans-serif;

            background-color: #ffffff; /* 흰색 배경 */

            display: flex;

            flex-direction: column; /* 세로로 정렬 */

            align-items: center; /* 가운데 정렬 */

            min-height: 100vh;

            margin: 0;

            padding: 40px 20px; /* 상하좌우 패딩 */

            box-sizing: border-box;

        }



        /* 입력 폼 스타일 */

        .input-form {

            max-width: 600px;

            width: 100%;

            background-color: #f9f9f9;

            border: 1px solid #eee;

            padding: 25px;

            border-radius: 8px;

            margin-bottom: 40px; /* 룩북 모듈과의 간격 */

            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);

            display: flex;

            flex-direction: column;

            gap: 15px;

        }

        .input-group {

            display: flex;

            flex-direction: column;

            gap: 5px;

        }

        .input-group label {

            font-size: 15px;

            font-weight: bold;

            color: #333;

        }

        .input-group input[type="text"],

        .input-group textarea {

            width: 100%;

            padding: 10px;

            border: 1px solid #ddd;

            border-radius: 4px;

            font-family: 'Pretendard', sans-serif;

            font-size: 14px;

            box-sizing: border-box;

        }

        .input-group textarea {

            resize: vertical; /* 세로 크기 조절 가능 */

            min-height: 80px;

        }

        .input-group input[type="file"] {

            padding: 5px 0;

        }

        .update-button {

            background-color: #5cb85c; /* 업데이트 버튼 색상 */

            color: #ffffff;

            border: none;

            padding: 12px 20px;

            font-family: 'Pretendard', sans-serif;

            font-size: 16px;

            font-weight: bold;

            cursor: pointer;

            border-radius: 5px;

            margin-top: 15px;

            transition: background-color 0.3s ease;

        }

        .update-button:hover {

            background-color: #4cae4c;

        }





        /* 룩북 모듈 스타일 (기존과 동일) */

        .lookbook-module {

            max-width: 600px; /* 룩북 모듈의 최대 너비 */

            width: 100%; /* 화면 크기에 따라 유동적으로 너비 조정 */

            background-color: #ffffff;

            box-sizing: border-box;

            display: flex;

            flex-direction: column;

            gap: 25px; /* 각 섹션 사이 간격 */

            position: relative; /* 버튼 위치 조정을 위해 추가 */

            border: 2px solid #36474F; /* 테두리 색상 추가 */

            padding: 25px; /* 내부 패딩 추가 */

            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* 그림자 효과 추가 */

        }



        /* 복사하기 버튼 스타일 */

        .copy-button {

            background-color: #36474F; /* 테두리 색상과 유사하게 */

            color: #ffffff;

            border: none;

            padding: 10px 15px;

            font-family: 'Pretendard', sans-serif;

            font-size: 16px;

            font-weight: bold;

            cursor: pointer;

            border-radius: 5px;

            align-self: flex-start; /* 왼쪽 상단 정렬 */

            margin-bottom: 10px; /* 아래 요소와의 간격 */

            transition: background-color 0.3s ease;

        }

        .copy-button:hover {

            background-color: #2a363d; /* 호버 시 색상 변경 */

        }



        /* 메인 타이틀 */

        .main-title {

            font-size: 28px;

            font-weight: bold;

            color: #333;

            line-height: 1.3;

            margin-bottom: 20px;

        }



        /* 상세 설명 (USP) */

        .description-text {

            font-size: 16px;

            line-height: 1.6;

            color: #555;

            margin-bottom: 30px;

            word-break: keep-all; /* 한국어 단어 단위로 줄바꿈 */

            overflow-wrap: break-word; /* 긴 단어가 있을 경우 단어 단위로 줄바꿈 */

        }



        /* 상품 이미지 컨테이너 */

        .product-image-container {

            position: relative;

            width: 100%;

            padding-bottom: 120%; /* 세로로 긴 이미지 비율 (예: 4:5 비율) */

            overflow: hidden;

            background-color: #f0f0f0; /* 로딩 중 배경색 */

        }

        .product-image-container img {

            position: absolute;

            top: 0;

            left: 0;

            width: 100%;

            height: 100%;

            object-fit: cover; /* 이미지가 컨테이너에 꽉 차도록 하면서 비율 유지 */

            display: block;

        }



        /* 하단 상세 정보 */

        .bottom-details {

            display: flex;

            justify-content: space-between; /* 양쪽 끝 정렬 */

            align-items: flex-end; /* 하단 정렬 */

            margin-top: 30px;

            padding-top: 20px;

            /* border-top: 1px solid #eee; /* 상단 구분선 - 제거 */ */

        }



        .left-details, .right-details {

            display: flex;

            flex-direction: column;

            gap: 8px;

        }



        .detail-item {

            font-size: 14px;

            color: #666;

        }



        .detail-item strong {

            font-weight: bold;

            color: #333;

        }



        /* 모바일 반응형 */

        @media (max-width: 768px) {

            .main-title {

                font-size: 24px;

            }

            .description-text {

                font-size: 15px;

            }

            .bottom-details {

                flex-direction: column; /* 세로로 쌓기 */

                align-items: flex-start; /* 왼쪽 정렬 */

                gap: 15px;

            }

        }

    </style>

</head>

<body>

    <div class="input-form">

        <h2>룩북 정보 입력</h2>

        <div class="input-group">

            <label for="uspLine1">USP (첫째 줄):</label>

            <input type="text" id="uspLine1" value="바쁜 아침, 한 벌로 스타일링 완성">

        </div>

        <div class="input-group">

            <label for="uspLine2">USP (둘째 줄):</label>

            <input type="text" id="uspLine2" value="세련된 플리츠 디자인으로 출근길을 더욱 여유롭게">

        </div>

        <div class="input-group">

            <label for="description">상품 설명:</label>

            <textarea id="description">바쁜 아침에도 스타일링 고민 없이 완벽한 룩을 연출해 보세요. 유러피안 린넨 플리츠 니트탑은 세련된 플리츠 디자인으로 어떤 하의와도 잘 어울려 출근길을 더욱 여유롭고 특별하게 만들어 드립니다. 편안함과 스타일을 동시에 선사하는 이 니트탑으로 당신의 아침을 더욱 빛내세요.</textarea>

        </div>

        <div class="input-group">

            <label for="productImage">상품 이미지:</label>

            <input type="file" id="productImage" accept="image/*">

        </div>

        <div class="input-group">

            <label for="brandName">브랜드명:</label>

            <input type="text" id="brandName" value="아뜰리에 마졸리">

        </div>

        <div class="input-group">

            <label for="productName">상품명:</label>

            <input type="text" id="productName" value="유러피안 린넨 플리츠 니트탑">

        </div>

        <div class="input-group">

            <label for="discountRate">할인율:</label>

            <input type="text" id="discountRate" value="60%">

        </div>

        <div class="input-group">

            <label for="price">가격:</label>

            <input type="text" id="price" value="15,960원">

        </div>

        <button class="update-button" id="updateLookbook">룩북 업데이트</button>

    </div>



    <div class="lookbook-module" id="lookbookModule">

        <button class="copy-button" id="copyButton">[복사하기]</button>



        <div class="main-title" id="displayMainTitle">

            바쁜 아침, 한 벌로 완성하는<br>세련된 플리츠 니트탑

        </div>

        <div class="description-text" id="displayDescription">

            바쁜 아침에도 스타일링 고민 없이 완벽한 룩을 연출해 보세요. 유러피안 린넨 플리츠 니트탑은 세련된 플리츠 디자인으로 어떤 하의와도 잘 어울려 출근길을 더욱 여유롭고 특별하게 만들어 드립니다. 편안함과 스타일을 동시에 선사하는 이 니트탑으로 당신의 아침을 더욱 빛내세요.

        </div>

        <div class="product-image-container">

            <img id="displayProductImage" src="{CB03A48E-5936-4F73-B1F0-270D7EF4D0D0}.jpg" alt="유러피안 린넨 플리츠 니트탑">

        </div>

        <div class="bottom-details">

            <div class="left-details">

                <span class="detail-item">브랜드: <strong id="displayBrandName">아뜰리에 마졸리</strong></span>

                <span class="detail-item">상품명: <strong id="displayProductName">유러피안 린넨 플리츠 니트탑</strong></span>

            </div>

            <div class="right-details">

                <span class="detail-item">할인율: <strong id="displayDiscountRate">60%</strong></span>

                <span class="detail-item">가격: <strong id="displayPrice">15,960원</strong></span>

            </div>

        </div>

    </div>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <script>

        document.addEventListener('DOMContentLoaded', function() {

            // 입력 필드 요소들

            const uspLine1Input = document.getElementById('uspLine1');

            const uspLine2Input = document.getElementById('uspLine2');

            const descriptionInput = document.getElementById('description');

            const productImageInput = document.getElementById('productImage');

            const brandNameInput = document.getElementById('brandName');

            const productNameInput = document.getElementById('productName');

            const discountRateInput = document.getElementById('discountRate');

            const priceInput = document.getElementById('price');

            const updateButton = document.getElementById('updateLookbook');



            // 룩북 모듈 표시 요소들

            const displayMainTitle = document.getElementById('displayMainTitle');

            const displayDescription = document.getElementById('displayDescription');

            const displayProductImage = document.getElementById('displayProductImage');

            const displayBrandName = document.getElementById('displayBrandName');

            const displayProductName = document.getElementById('displayProductName');

            const displayDiscountRate = document.getElementById('displayDiscountRate');

            const displayPrice = document.getElementById('displayPrice');



            // 이미지 다운로드 관련 요소

            const copyButton = document.getElementById('copyButton');

            const lookbookModule = document.getElementById('lookbookModule');



            // 룩북 모듈 업데이트 함수

            function updateLookbook() {

                displayMainTitle.innerHTML = uspLine1Input.value + '<br>' + uspLine2Input.value;

                displayDescription.textContent = descriptionInput.value;

                displayBrandName.textContent = brandNameInput.value;

                displayProductName.textContent = productNameInput.value;

                displayDiscountRate.textContent = discountRateInput.value;

                displayPrice.textContent = priceInput.value;

            }



            // 이미지 파일 변경 시 처리

            productImageInput.addEventListener('change', function(event) {

                const file = event.target.files[0];

                if (file) {

                    const reader = new FileReader();

                    reader.onload = function(e) {

                        displayProductImage.src = e.target.result;

                    };

                    reader.readAsDataURL(file);

                }

            });



            // "룩북 업데이트" 버튼 클릭 시

            updateButton.addEventListener('click', updateLookbook);



            // 초기 로드 시 룩북 업데이트

            updateLookbook();



            // 이미지 다운로드 기능 (기존과 동일)

            if (copyButton && lookbookModule) {

                copyButton.addEventListener('click', function() {

                    copyButton.style.display = 'none'; // 버튼 숨기기



                    html2canvas(lookbookModule, {

                        scale: 2,

                        useCORS: true,

                        logging: false

                    }).then(function(canvas) {

                        copyButton.style.display = 'block'; // 버튼 다시 표시

                        const imageDataURL = canvas.toDataURL('image/png');

                        const link = document.createElement('a');

                        link.href = imageDataURL;

                        link.download = 'lookbook_module.png';

                        document.body.appendChild(link);

                        link.click();

                        document.body.removeChild(link);

                        console.log('룩북 모듈이 이미지로 저장되었습니다!');

                    }).catch(function(error) {

                        console.error('이미지 저장 중 오류 발생:', error);

                        copyButton.style.display = 'block';

                        alert('이미지 저장에 실패했습니다. 다시 시도해주세요.');

                    });

                });

            }

        });

    </script>

</body>

</html>
